(window["webpackJsonpreact-hooks-feducation"]=window["webpackJsonpreact-hooks-feducation"]||[]).push([[0],{30:function(e,a,t){e.exports=t(74)},35:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(14),l=t.n(c),o=(t(35),t(5)),i=[{name:"Austin, TX",coords:"30.4017091, -97.7151757"}],s=t(7),m=Object(r.createContext)();function d(e,a){switch(a.type){case"C":case"F":return a.type;default:throw new Error}}var u=function(e){var a=e.children,t=Object(r.useReducer)(d,"C"),c=Object(s.a)(t,2),l=c[0],o=c[1];return n.a.createElement(m.Provider,{value:{scale:l,dispatch:o}},a)},_=t(23),E=t.n(_),v=function(){var e=n.a.useContext(m),a=e.scale,t=e.dispatch;return n.a.createElement(o.Header,{"aria-label":"FED@IBM Dublin | React Hooks"},n.a.createElement(o.HeaderName,{href:"#",prefix:"FED@IBM"},"Dublin"),n.a.createElement(o.HeaderNavigation,{"aria-label":"navigation"},n.a.createElement(o.HeaderMenuItem,null,"React Hooks")),n.a.createElement(o.HeaderGlobalBar,null,n.a.createElement(o.HeaderGlobalAction,{"aria-label":"toggle temperature scale from celsius to fahrenheit",onClick:function(){return t({type:"C"===a?"F":"C"})}},n.a.createElement("span",{className:"toggle-temperature-scale scale-type__".concat(a)},n.a.createElement(E.a,null),a,"\xb0"))))},p=t(15),f=t.n(p),y=t(24),b=t(26),N=t(29),g=t.n(N),h=t(27),x=t.n(h),w=t(28),k=t.n(w),O=t(25),C=t.n(O),I=function(e){var a=e.location,t=n.a.useState(!1),r=Object(s.a)(t,2),c=r[0],l=r[1],o=function(e,a){var t=e.coords,r=n.a.useState(null),c=Object(s.a)(r,2),l=c[0],o=c[1],i=n.a.useState(!0),m=Object(s.a)(i,2),d=m[0],u=m[1],_=n.a.useState(!1),E=Object(s.a)(_,2),v=E[0],p=E[1];return n.a.useEffect(function(){(function(){var e=Object(y.a)(f.a.mark(function e(){var a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),p(!1),console.log("process.env.API_PROXY: ",Object({NODE_ENV:"production",PUBLIC_URL:""}).API_PROXY),e.prev=3,e.next=6,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).API_PROXY,"https://api.darksky.net/forecast/db1d17eb3b798d4881121dee107183cc/").concat(t));case 6:if(a=e.sent,console.log("response: ",a),!a.ok){e.next=15;break}return e.next=11,a.json();case 11:r=e.sent,o(r),e.next=16;break;case 15:p(!0);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),p(!0);case 21:u(!1);case 22:case"end":return e.stop()}},e,null,[[3,18]])}));return function(){return e.apply(this,arguments)}})()()},[t,a]),{data:l,loading:d,error:v}}(a,c),i=o.data,d=o.loading,u=o.error,_=n.a.useContext(m).scale,E=function(e){return function(e,a){switch(console.log("scale: ",a),a){case"C":return(5*(e-32)/9).toFixed(0);case"F":return e.toFixed(0);default:throw Error("temperature scale ".concat(a," is not recognized"))}}(e,_)},v=function(e){var t,r=e.loading,o=void 0===r||r,s=e.error,m=void 0!==s&&s,d=n.a.createElement("div",{className:"bx--skeleton__text"});return n.a.createElement("div",{className:"bx--col-sm-4 bx--col-md-4 bx--col-lg-4 bx--col-xl-2"},m?n.a.createElement("div",{className:"weather-center__card--error",onClick:function(){return l(!c)},role:"button",tabIndex:0},"Whoops, an error has ocurred!",n.a.createElement("div",{className:"error__retry"},n.a.createElement(g.a,null),"Retry")):n.a.createElement(b.Tile,{className:"weather-card-container",tabIndex:0},n.a.createElement("div",{className:"weather-center__card"},n.a.createElement("h5",{className:"weather-center__card--title"},a.name),n.a.createElement("div",{className:"weather-center__card--currently"},n.a.createElement("div",{className:"currently__time-icon-container"},n.a.createElement("div",{className:"currently__time"},n.a.createElement(x.a,null),o?d:(t=i.timezone,C()().tz(t).format("HH:mm"))),o?n.a.createElement("div",{className:"currently__icon"},d):n.a.createElement("div",{className:"currently__icon"},n.a.createElement(k.a,null))),n.a.createElement("div",{className:"currently__next-hour ".concat(o?"loading":"")},n.a.createElement("div",{className:"currently__next-hour--label"},"Next hour"),n.a.createElement("div",{className:"currently__next-hour--temperature"},o?d:"".concat(E(i.currently.temperature),"\xb0")),n.a.createElement("div",{className:"currently__next-hour--description"},o?d:i.currently.summary))),n.a.createElement("div",{className:"weather-center__card--daily"},n.a.createElement("div",null,n.a.createElement("div",{className:"daily__label"},"Today"),n.a.createElement("div",{className:"daily__summary"},o?[d,d]:function(e){var a=e.split(".");return 0===a[a.length-1].length&&a.pop(),a.join()}(i.daily.data[0].summary))),n.a.createElement("div",{className:"daily__info"},n.a.createElement("div",{className:"daily__info-group"},n.a.createElement("div",{className:"daily__info-group-item"},n.a.createElement("div",{className:"daily__info-group-item--label"},"Min"),n.a.createElement("div",{className:"daily__info-group-item--value"},o?d:"".concat(E(i.daily.data[0].temperatureMin),"\xb0"))),n.a.createElement("div",{className:"daily__info-group-item"},n.a.createElement("div",{className:"daily__info-group-item--label"},"Max"),n.a.createElement("div",{className:"daily__info-group-item--value"},o?d:"".concat(E(i.daily.data[0].temperatureMax),"\xb0")))),n.a.createElement("div",{className:"daily__info-group"},n.a.createElement("div",{className:"daily__info-group-item"},n.a.createElement("div",{className:"daily__info-group-item--label"},"Prec."),n.a.createElement("div",{className:"daily__info-group-item--value",id:"precipitation"},o?d:[i.daily.data[0].precipProbability.toFixed(0),n.a.createElement("span",{key:"%",className:"small-percentage-symbol"},"%")])),n.a.createElement("div",{className:"daily__info-group-item"},n.a.createElement("div",{className:"daily__info-group-item--label"},"UV"),n.a.createElement("div",{className:"daily__info-group-item--value"},o?d:i.daily.data[0].uvIndex.toFixed(0)))))))))};return v(d?{loading:!0}:u?{error:!0}:{loading:!1})},j=function(){return n.a.createElement("div",{className:"app theme--g90"},n.a.createElement(u,null,n.a.createElement(v,null),n.a.createElement(o.Content,null,n.a.createElement("div",{className:"bx--grid bx--grid--no-gutter"},n.a.createElement("div",{className:"bx--row"},n.a.createElement("h1",{className:"bx--col-sm-4 bx--col-md-8 bx--col-lg-16"},"FED@IBM Weather Center")),n.a.createElement("div",{className:"bx--row"},i.map(function(e,a){return n.a.createElement(I,{key:e.name,location:e})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.b675a9a2.chunk.js.map